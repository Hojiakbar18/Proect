(this["webpackJsonpsrm-client"]=this["webpackJsonpsrm-client"]||[]).push([[0],{290:function(e,t,a){},455:function(e,t,a){},679:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),c=a(55),l=a.n(c),i=(a(455),a(290),a(456),a(282)),r=a(52),o=a(41),u=a(42),h=a(47),d=a(46),b=a(24),j=a.p+"static/media/Business-Self-Driving-Trucks-TuSimple.6f665352.jpg",m=a(103),p=a.n(m),v="/api/",g="CRM-TOKEN",O="auth/login",x="users/me",f="dazvol/allByPageable",y="dazvol/getActive",z="tir/getActive",N="dazvol/getDazvolName",S="dazvol/getCompany",E="dazvol/saveOrEdit",k="dazvol/changeActive/",A="dazvol/delete/",D="dazvolSale/delete/",w="tir/allByPageable",I="tir/saveOrEdit",P="tir/changeActive/",C="dazvolSale/save",B="tirSale/saveOrEdit",T="dazvolSale/allByPageable",M="tirSale/allByPageable",F="users/delete/",R="role/all",q="users/saveOrEdit",V="users/changeActive/",L="users/allByPageable",U=a(223),_=a(53),G="LOGIN",Y=a(37),K=a(5),J=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t={backgroundImage:"url("+j+")",backgroundRepeat:"no-repeat",backgroundPosition:"right center, left top",backgroundSize:"100%, 100%",width:"100%",height:"100vh"};return Object(K.jsx)("div",{children:Object(K.jsxs)("div",{className:"row",children:[Object(K.jsx)("div",{className:"col-md-4 p-5",children:Object(K.jsx)("div",{className:"row mt-5",children:Object(K.jsx)("div",{className:"col-md-12",children:Object(K.jsxs)(b.AvForm,{onValidSubmit:function(t,a){p.a.post(v+O,a).then((function(t){if(200===t.status){Y.b.success("Success"),localStorage.setItem(g,"Bearer "+t.data);var a=Object(U.a)(t.data);e.props.signIn(a.roles[0].roleName),"ROLE_ADMIN"===a.roles[0].roleName?e.props.history.push("/dashboard"):"ROLE_MANAGER"===a.roles[0].roleName?e.props.history.push("/reports"):"ROLE_SELLER"===a.roles[0].roleName?e.props.history.push("/sale"):e.props.history.push("/")}})).catch((function(e){Y.b.error("Error")}))},children:[Object(K.jsx)(b.AvField,{type:"text",label:"Enter username : ",name:"username"}),Object(K.jsx)(b.AvField,{type:"password",label:"Enter password : ",name:"password"}),Object(K.jsx)("button",{type:"submit",className:"btn btn-success mt-2",children:"Login"})]})})})}),Object(K.jsx)("div",{className:"col-md-8",children:Object(K.jsx)("div",{style:t})})]})})}}]),a}(n.Component),X={signIn:function(e){return{type:G,payload:e}}},H=Object(_.b)(null,X)(J),Z=a(49),W=a(21),Q=a.n(W),$=a(45),ee=function(e,t,a){var n={Authorization:localStorage.getItem(g),"Access-Control-Allow-Origin":"*"};return p()({url:v+t,method:e,data:a,headers:n})},te=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"me",value:function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,ee("get",x).then((function(e){t=e.data})).catch((function(e){t=null}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"saveOrEditDazvol",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,ee("post",E,t).then((function(e){a=e})).catch((function(e){a=""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDazvolsByPageable",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",f+"?page="+t.page+"&size="+t.size+"&search="+t.search+"&active="+t.active+"&companyId="+t.companyId).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDazvolNames",value:function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,ee("get",N).then((function(e){t=e.data})).catch((function(e){t=[]}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllCompany",value:function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,ee("get",S).then((function(e){t=e.data})).catch((function(e){t=[]}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeActiveOfDazvol",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",k+t).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeDazvol",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",A+t).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeDazvolSale",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",D+t).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllTiresByPageable",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",w+"?page="+t.page+"&size="+t.size+"&search="+t.search+"&active="+t.active+"&companyId="+t.companyId).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveOrEditTir",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,ee("post",I,t).then((function(e){a=e})).catch((function(e){a=""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeActiveOfTir",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",P+t).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveOrEditDazvolSale",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,ee("post",C,t).then((function(e){a=e})).catch((function(e){a=""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveOrEditTirSale",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,ee("post",B,t).then((function(e){a=e})).catch((function(e){a=""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDazvolSalesByPageable",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",T+"?page="+t.page+"&size="+t.size+"&search="+t.search+"&active="+t.active+"&companyId="+t.companyId).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllTirsSalesByPageable",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",M+"?page="+t.page+"&size="+t.size+"&search="+t.search+"&active="+t.active+"&companyId="+t.companyId).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllDazvolByActive",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",y+"?companyId="+t.companyId+"&dazvolNameId="+t.dazvolNameId).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllTirByActive",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",z+"?companyId="+t.companyId).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllUsersByPageable",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",L+"?page="+t.page+"&size="+t.size+"&search="+t.search).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeActiveOfUser",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",V+t).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveOrEditUser",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,ee("post",q,t).then((function(e){a=e})).catch((function(e){a=""}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeUser",value:function(){var e=Object($.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,ee("get",F+t).then((function(e){a=e.data})).catch((function(e){a=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllRoles",value:function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,ee("get",R).then((function(e){t=e.data})).catch((function(e){t=[]}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ae=te,ne=function(){return localStorage.getItem(g)?Object(U.a)(localStorage.getItem(g)).roles[0].roleName:""},se=function(e){return Object(K.jsx)("div",{className:"bg-dark",children:Object(K.jsx)("div",{className:"container",children:Object(K.jsx)("div",{className:"row",children:"ROLE_ADMIN"===ne()?Object(K.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark sticky-top bg-dark bg-light",children:Object(K.jsxs)("div",{className:"navbar-nav",children:[Object(K.jsx)("a",{href:"/dashboard",className:1===e.active?"nav-item nav-link active font":"nav-item nav-link font",children:"DASHBOARD"}),Object(K.jsx)("a",{href:"/dazvol",className:2===e.active?"nav-item nav-link active font":"nav-item nav-link font",children:"DAZVOL"}),Object(K.jsx)("a",{href:"/tir",className:3===e.active?"nav-item nav-link active font":"nav-item nav-link font",children:"TIR"}),Object(K.jsx)("a",{href:"/tirSale",className:4===e.active?"nav-item nav-link active font":"nav-item nav-link font",children:"TIRSALE"}),Object(K.jsx)("a",{href:"/dazvolSale",className:5===e.active?"nav-item nav-link active font":"nav-item nav-link font",children:"DAZVOLSALE"}),Object(K.jsx)("a",{href:"/employee",className:7===e.active?"nav-item nav-link active font":"nav-item nav-link font",children:"EMPLOYEE"}),Object(K.jsx)("a",{href:"/setting",className:6===e.active?"nav-item nav-link active font":"nav-item nav-link font",children:"SETTING"}),Object(K.jsx)("a",{href:"/",onClick:function(){localStorage.removeItem(g)},className:6===e.active?"nav-item font nav-link active":"nav-item nav-link font",children:"EXIT"})]})}):""})})})},ce=a(683),le=a(685),ie=(a(666),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={allTires:[],active:!0,company:[],dazvol:[],dazvolCompany:"",tirSize:[],malga:"",prime:"",iml:"",viva:"",page:0,size:10,totalElements:0,TURKEY_2X:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t||"ROLE_ADMIN"!==ne()?(localStorage.removeItem(g),e.props.history.push("/")):ae.getAllCompany().then((function(t){console.log(t,"company"),e.setState({company:t}),e.state.company.map((function(t,a){return ae.getAllTirByActive({companyId:t.id}).then((function(a){console.log(a,"trre"),"MALGA_LOGISTICS"===t.authority?(console.log(a.object.size,"malga"),e.setState({malga:a.object.length})):"IMPERIAL_LOGISTICS"===t.authority?e.setState({iml:a.object.length}):"VIVA_LOGISTICS"===t.authority?e.setState({viva:a.object.length}):"PRIME_TRANS"===t.authority&&e.setState({prime:a.object.length})}))}))}))}))}},{key:"render",value:function(){var e={data:[{type:"MALGA TIR",sales:this.state.malga},{type:"PRIME TIR",sales:this.state.prime},{type:"VIVA TIR",sales:this.state.viva},{type:"IMPERIAL TIR",sales:this.state.iml}],xField:"type",yField:"sales",label:{position:"middle",style:{backgroundColor:"rgba(2,126,229,0.5)"}},meta:{type:{alias:"Category"},sales:{alias:"Sales"}}},t={appendPadding:10,data:[{type:"turkey-2x",value:this.state.TURKEY_2X},{type:"turkey-3x",value:2},{type:"gruziya-2x",value:1},{type:"gruziya-3x",value:1},{type:"kazak",value:1},{type:"russia",value:5},{type:"tajik-2x",value:5},{type:"tajik-3x",value:1},{type:"latvia",value:1},{type:"litva",value:1},{type:"germany",value:1},{type:"tajik-3x",value:1},{type:"belarus-2x",value:1},{type:"belarus-3x",value:1},{type:"turkmaniston-3x",value:1},{type:"kirgiz",value:1}],angleField:"value",colorField:"type",radius:1,label:{type:"outer"},interactions:[{type:"element-active"}]};return Object(K.jsxs)("div",{className:"row bg-light",children:[Object(K.jsx)(se,{active:1}),Object(K.jsxs)("div",{className:"col-md-6 mt-5",children:[Object(K.jsx)("h1",{className:"text-center",children:"TIR"}),Object(K.jsx)(ce.a,Object(Z.a)(Object(Z.a)({},e),{},{onReady:function(e){e.on("plot:click",(function(t){var a=t.x,n=t.y;e.options.xField,e.chart.getTooltipItems({x:a,y:n})}))}}))]}),Object(K.jsxs)("div",{className:"col-md-6 mt-5",children:[Object(K.jsx)("h2",{className:"mb-0 text-center",children:"Malga"}),Object(K.jsx)(le.a,Object(Z.a)({},t)),";"]})]})}}]),a}(n.Component)),re=Object(_.b)((function(e){return{store:e}}),null)(ie),oe=a(96),ue=a.n(oe),he=a(334),de=a(420),be=a(332),je=a(333),me=a(331),pe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={item:"",showSaveModal:!1,showDeleteModal:!1,allDazvols:[],active:!0,allDazvolsByPageable:[],company:[],companyId:"",dazvol:[],deleteIds:[],dazvolName:[],page:0,size:10,totalElements:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t?(localStorage.removeItem(g),e.props.history.push("/")):(ae.getAllTirsSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){console.log(t),e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})})),ae.getAllCompany().then((function(t){console.log(t,"company"),e.setState({company:t})})))}))}},{key:"render",value:function(){var e=this,t=function(t){e.setState({item:t,showSaveOrEditModal:!e.state.showSaveOrEditModal})},a=function(t){e.setState({item:t,showDeleteModal:!e.state.showDeleteModal})};return Object(K.jsxs)("div",{className:"row bg-light",children:[Object(K.jsx)(se,{active:4}),Object(K.jsxs)("div",{className:"col-12",children:[Object(K.jsxs)("div",{className:"row mt-5",children:[Object(K.jsx)("div",{className:"col-3 text-center",children:Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){return t("")},children:"SALE"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)("input",{type:"text",onChange:function(t){var a=t.target.value;console.log(a.length,"SSS"),a.length>=2?ae.getAllTirsSalesByPageable({page:e.state.page,size:e.state.size,search:a,active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0})})):ae.getAllTirsSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0})}))},className:"form-control"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)(ue.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(t){ae.getAllTirsSalesByPageable({page:t-1,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(a){e.setState({allDazvolsByPageable:a.object,totalElements:a.totalElements,page:t-1})}))},itemClass:"page-item",linkClass:"page-link"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)("div",{className:"row d-flex justify-content-between align-items-center",children:Object(K.jsxs)("select",{className:"form-control w-75",onChange:function(t){var a=t.target.value;console.log(a,"company change"),ae.getAllTirsSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:a}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})}))},id:"exampleFormControlSelect1",children:[Object(K.jsx)("option",{value:0,children:"Choose Company"}),this.state.company.map((function(e,t){return Object(K.jsx)("option",{value:e.id,children:e.authority})}))]})})})]}),Object(K.jsx)("div",{className:"row mt-3",children:Object(K.jsxs)(he.a,{bordered:!0,hover:!0,children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"T/R"}),Object(K.jsx)("th",{children:"Ismi"}),Object(K.jsx)("th",{children:"Mashina raqami"}),Object(K.jsx)("th",{children:"Sotilgan vaqti"}),Object(K.jsx)("th",{children:"Company"}),Object(K.jsx)("th",{children:"Sotuvchi"}),Object(K.jsx)("th",{children:"Dazvols"}),Object(K.jsx)("th",{children:"Action"})]})}),Object(K.jsx)("tbody",{children:this.state.allDazvolsByPageable?this.state.allDazvolsByPageable.map((function(a,n){return Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{className:"text-center",children:n+1+e.state.page*e.state.size}),Object(K.jsx)("td",{className:"text-center",children:a.userName}),Object(K.jsx)("td",{className:"text-center",children:a.carNumber}),Object(K.jsx)("td",{className:"text-center",children:a.date}),Object(K.jsx)("td",{className:"text-center",children:a.company.authority}),Object(K.jsx)("td",{className:"text-center",children:a.customer.firstName}),Object(K.jsx)("td",{className:"text-center p-0",children:a.tirs?a.tirs.map((function(e,t){return Object(K.jsx)("p",{className:"mb-0",children:e.tirNumber})})):""}),Object(K.jsx)("td",{children:Object(K.jsx)("button",{className:"btn btn-warning",onClick:function(){return t(a)},children:"Edit"})})]})})):""})]})}),Object(K.jsxs)(de.a,{isOpen:this.state.showSaveOrEditModal,toggle:function(){return t("")},children:[Object(K.jsxs)(be.a,{children:[Object(K.jsx)("h4",{children:this.state.item?"Tahrirlash":"Dazvol sotish"}),Object(K.jsxs)(b.AvForm,{onValidSubmit:function(t,a){ae.getAllTirByActive({companyId:a.companyId}).then((function(t){e.setState({companyId:a.companyId,dazvol:t.object})}))},children:[Object(K.jsxs)(b.AvField,{type:"select",name:"companyId",label:"Company tanlang",children:[Object(K.jsx)("option",{value:"0",children:"Choose Company"}),this.state.company.length>0?this.state.company.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.authority})})):""]}),Object(K.jsx)("button",{className:"btn btn-success mt-2 text-center",type:"submit",children:"Jo'natish"})]})]}),Object(K.jsxs)(b.AvForm,{onValidSubmit:function(a,n){n=Object(Z.a)(Object(Z.a)({},n),{},{companyId:e.state.companyId}),console.log(n,"feffs"),ae.saveOrEditTirSale(n).then((function(a){console.log(a,"fdfefe"),ae.getAllTirsSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})})),ae.getAllTirsSalesByPageable({page:e.state.page,size:0,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvols:t.object,totalElements:t.totalElements})})),t("")}))},children:[Object(K.jsxs)(be.a,{children:[Object(K.jsx)(b.AvField,{type:"select",name:"tirIds",multiple:!0,label:"Tirni tanlang",children:this.state.dazvol.length>0?this.state.dazvol.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.tirNumber})})):""}),Object(K.jsx)(b.AvField,{type:"text",name:"carNumber",defaultValue:this.state.item?this.state.item.carNumber:"",label:"Mashina raqamini kiriting"}),Object(K.jsx)(b.AvField,{type:"text",name:"userName",defaultValue:this.state.item?this.state.item.userName:"",label:"Haydovchi ismi kiriting"})]}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return t("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",type:"submit",children:"Saqlash"})]})]})]}),Object(K.jsxs)(de.a,{isOpen:this.state.showDeleteModal,toggle:function(){return a("")},children:[Object(K.jsx)(me.a,{children:"O'chirishni istaysizmi?"}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return a("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){ae.removeDazvolSale(5).then((function(t){console.log(t),t.success?Y.b.success(t.message):Y.b.warning(t.message),ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0,showDeleteModal:!e.state.showDeleteModal,item:""})}))}))},children:"O'chirish"})]})]})]})]})}}]),a}(n.Component),ve=a(287),ge={userRole:""},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;return t.type===G?Object(Z.a)(Object(Z.a)({},e),{},{userRole:t.payload}):e},xe=a(147),fe=a.n(xe),ye=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={item:"",showSaveModal:!1,showDeleteModal:!1,allDazvols:[],active:!0,allDazvolsByPageable:[],company:[],dazvolName:[],page:0,size:10,totalElements:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t?(localStorage.removeItem(g),e.props.history.push("/")):(ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){console.log(t),e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})})),ae.getAllDazvolNames().then((function(t){console.log(t,"dazvol "),e.setState({dazvolName:t})})),ae.getAllCompany().then((function(t){console.log(t,"company"),e.setState({company:t})})))}))}},{key:"render",value:function(){var e=this,t=function(t){e.setState({item:t,showSaveOrEditModal:!e.state.showSaveOrEditModal})},a=function(t){e.setState({item:t,showDeleteModal:!e.state.showDeleteModal})};return Object(K.jsxs)("div",{className:"row bg-light",children:[Object(K.jsx)(se,{active:2}),Object(K.jsxs)("div",{className:"col-md-12",children:[Object(K.jsxs)("div",{className:"row mt-5",children:[Object(K.jsx)("div",{className:"col-3 text-center",children:Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){return t("")},children:"ADD"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)("input",{type:"text",onChange:function(t){var a=t.target.value;console.log(a.length,"SSS"),a.length>=2?ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:a,active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0})})):ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0})}))},className:"form-control"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)(ue.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(t){ae.getAllDazvolsByPageable({page:t-1,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(a){e.setState({allDazvolsByPageable:a.object,totalElements:a.totalElements,page:t-1})}))},itemClass:"page-item",linkClass:"page-link"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsxs)("div",{className:"row d-flex justify-content-between align-items-center",children:[Object(K.jsxs)("select",{className:"form-control w-75",onChange:function(t){var a=t.target.value;console.log(a,"company change"),ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:a}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})}))},id:"exampleFormControlSelect1",children:[Object(K.jsx)("option",{value:0,children:"Choose Company"}),this.state.company.map((function(e,t){return Object(K.jsx)("option",{value:e.id,children:e.authority})}))]}),Object(K.jsx)("input",{type:"checkbox",className:"form-check-input",onClick:function(){e.setState({active:!e.state.active})},checked:this.state.active})]})})]}),Object(K.jsx)("div",{className:"row mt-3",children:Object(K.jsxs)(he.a,{bordered:!0,hover:!0,children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"T/R"}),Object(K.jsx)("th",{children:"ID"}),Object(K.jsx)("th",{children:"Kelgan vaqti"}),Object(K.jsx)("th",{children:"Tugash vaqti"}),Object(K.jsx)("th",{children:"Company"}),Object(K.jsx)("th",{children:"Nomi"}),Object(K.jsx)("th",{children:"Active"}),Object(K.jsx)("th",{children:"Action"})]})}),Object(K.jsx)("tbody",{children:this.state.allDazvolsByPageable?this.state.allDazvolsByPageable.map((function(n,s){return Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:s+1+e.state.page*e.state.size}),Object(K.jsx)("td",{children:n.dazvolNumber}),Object(K.jsx)("td",{children:n.date}),Object(K.jsx)("td",{children:n.experienceDate}),Object(K.jsx)("td",{children:n.company.companyName}),Object(K.jsx)("td",{children:n.name}),Object(K.jsxs)("td",{children:[" ",Object(K.jsx)(fe.a,{checked:n.active,onChange:function(){return function(t){ae.changeActiveOfDazvol(t.id).then((function(t){"Activated"===t.message?Y.b.success(t.message):Y.b.warning(t.message),ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})}))}))}(n)}})]}),Object(K.jsxs)("td",{children:[Object(K.jsx)("button",{className:"btn btn-warning",onClick:function(){return t(n)},children:"Edit"}),Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return a(n)},children:"Delete"})]})]})})):""})]})}),Object(K.jsxs)(de.a,{isOpen:this.state.showSaveOrEditModal,toggle:function(){return t("")},children:[Object(K.jsx)(me.a,{children:Object(K.jsx)("h4",{children:this.state.item?"Tahrirlash":"Yangi Dazvol qo'shish"})}),Object(K.jsxs)(b.AvForm,{onValidSubmit:function(a,n){e.state.item&&(n=Object(Z.a)(Object(Z.a)({},n),{},{id:e.state.item.id})),ae.saveOrEditDazvol(n).then((function(a){console.log(a,"sdad"),a.data.success?Y.b.success(a.data.message):Y.b.warning(a.data.message),ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})})),ae.getAllDazvolsByPageable({page:e.state.page,size:0,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvols:t.object,totalElements:t.totalElements})})),t("")}))},children:[Object(K.jsxs)(be.a,{children:[Object(K.jsx)(b.AvField,{type:"text",name:"dazvolNumber",defaultValue:this.state.item?this.state.item.dazvolNumber:"",label:"Dazvol raqamini 1-kiriting"}),this.state.item?"":Object(K.jsx)(b.AvField,{type:"text",name:"dazvolNumber2",label:"Dazvol raqamini 2-kiriting"}),Object(K.jsx)(b.AvField,{type:"date",name:"experienceDate",defaultValue:this.state.item?this.state.item.experienceDate:"",label:"Tugash muddatini kiriting"}),Object(K.jsxs)(b.AvField,{type:"select",name:"companyId",defaultValue:this.state.item&&this.state.item.company?this.state.item.company.id:"0",label:"Company tanlang",children:[Object(K.jsx)("option",{value:"0",children:"Choose Company"}),this.state.company.length>0?this.state.company.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.authority})})):""]}),Object(K.jsxs)(b.AvField,{type:"select",name:"dazvolNameId",defaultValue:this.state.item&&this.state.item.dazvolName?this.state.item.dazvolName.id:"0",label:"Dazvol turini tanlang",children:[Object(K.jsx)("option",{value:"0",children:"Choose Type"}),this.state.dazvolName.length>0?this.state.dazvolName.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.authority})})):""]})]}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return t("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",type:"submit",children:"Saqlash"})]})]})]}),Object(K.jsxs)(de.a,{isOpen:this.state.showDeleteModal,toggle:function(){return a("")},children:[Object(K.jsx)(me.a,{children:"O'chirishni istaysizmi?"}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return a("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){ae.removeDazvol(e.state.item.id).then((function(t){console.log(t),t.success?Y.b.success(t.message):Y.b.warning(t.message),ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0,showDeleteModal:!e.state.showDeleteModal,item:""})}))}))},children:"O'chirish"})]})]})]})]})}}]),a}(n.Component),ze=Object(_.b)((function(e){return{store:e}}),null)(ye),Ne=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t&&(localStorage.removeItem(g),e.props.history.push("/"))}))}},{key:"render",value:function(){return Object(K.jsxs)("div",{className:"row",children:[Object(K.jsx)("div",{className:"col-md-2",children:Object(K.jsx)(se,{active:6})}),Object(K.jsx)("div",{className:"col-md-10",children:Object(K.jsx)("h1",{children:"This is Supplier Page"})})]})}}]),a}(n.Component),Se=(Object(_.b)((function(e){return{store:e}}),null)(Ne),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t&&(localStorage.removeItem(g),e.props.history.push("/"))}))}},{key:"render",value:function(){return Object(K.jsxs)("div",{className:"row",children:[Object(K.jsx)("div",{className:"col-md-2",children:Object(K.jsx)(se,{active:7})}),Object(K.jsx)("div",{className:"col-md-10",children:Object(K.jsx)("h1",{children:"This is Warehouse Page"})})]})}}]),a}(n.Component)),Ee=(Object(_.b)((function(e){return{store:e}}),null)(Se),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t&&(localStorage.removeItem(g),e.props.history.push("/"))}))}},{key:"render",value:function(){return Object(K.jsxs)("div",{className:"row",children:[Object(K.jsx)("div",{className:"col-md-2",children:Object(K.jsx)(se,{active:8})}),Object(K.jsx)("div",{className:"col-md-10",children:Object(K.jsx)("h1",{children:"This is Products Page"})})]})}}]),a}(n.Component));Object(_.b)((function(e){return{store:e}}),null)(Ee);var ke=function(){return Object(K.jsx)("div",{className:"spinner"})},Ae=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={item:"",loading:!1,showSaveModal:!1,showDeleteModal:!1,allTires:[],active:!0,allTiresByPageable:[],company:[],page:0,size:10,totalElements:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),ae.me().then((function(t){null===t?(localStorage.removeItem(g),e.props.history.push("/")):(ae.getAllTiresByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){console.log(t),e.setState({allTiresByPageable:t.object,totalElements:t.totalElements})})).finally((function(){return e.setState({loading:!1})})),ae.getAllCompany().then((function(t){e.setState({company:t})})))}))}},{key:"render",value:function(){var e=this,t=function(t){e.setState({item:t,showSaveOrEditModal:!e.state.showSaveOrEditModal})};return this.state.loading?Object(K.jsx)(ke,{}):Object(K.jsxs)("div",{className:"row bg-light",children:[Object(K.jsx)(se,{active:3}),Object(K.jsxs)("div",{className:"col-md-12",children:[Object(K.jsxs)("div",{className:"row mt-5",children:[Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)("button",{className:"btn btn-success s",onClick:function(){return t("")},children:"ADD"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)("input",{type:"text",placeholder:"Izlash",onChange:function(t){var a=t.target.value;console.log(a.length,"SSS"),a.length>=2?ae.getAllTiresByPageable({page:e.state.page,size:e.state.size,search:a,active:e.state.active,companyId:0}).then((function(t){e.setState({allTiresByPageable:t.object,totalElements:t.totalElements,page:0})})):ae.getAllTiresByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allTiresByPageable:t.object,totalElements:t.totalElements,page:0})}))},className:"form-control s"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)(ue.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:3,onChange:function(t){ae.getAllTiresByPageable({page:t-1,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(a){e.setState({allTiresByPageable:a.object,totalElements:a.totalElements,page:t-1})}))},itemClass:"page-item",linkClass:"page-link"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsxs)("div",{className:"row d-flex justify-content-between align-items-center",children:[Object(K.jsxs)("select",{className:"form-control w-75 s",onChange:function(t){var a=t.target.value;console.log(a,"company change"),ae.getAllTiresByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:a}).then((function(t){e.setState({allTiresByPageable:t.object,totalElements:t.totalElements,page:0})}))},id:"exampleFormControlSelect1",children:[Object(K.jsx)("option",{value:0,children:"Choose Company"}),this.state.company.map((function(e,t){return Object(K.jsx)("option",{value:e.id,children:e.authority})}))]}),Object(K.jsx)("input",{type:"checkbox",className:"form-check-input s",onClick:function(){e.setState({active:!e.state.active})},checked:this.state.active})]})})]}),Object(K.jsx)("div",{className:"row mt-3",children:Object(K.jsxs)(he.a,{bordered:!0,hover:!0,children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"T/R"}),Object(K.jsx)("th",{children:"ID"}),Object(K.jsx)("th",{children:"Kelgan vaqti"}),Object(K.jsx)("th",{children:"Tugash vaqti"}),Object(K.jsx)("th",{children:"Company"}),Object(K.jsx)("th",{children:"list"}),Object(K.jsx)("th",{children:"Active"}),Object(K.jsx)("th",{children:"Action"})]})}),Object(K.jsx)("tbody",{children:this.state.allTiresByPageable?this.state.allTiresByPageable.map((function(a,n){return Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:n+1+e.state.page*e.state.size}),Object(K.jsx)("td",{children:a.tirNumber}),Object(K.jsx)("td",{children:a.fromDate}),Object(K.jsx)("td",{children:a.experienceDate}),Object(K.jsx)("td",{children:a.company.companyName}),Object(K.jsx)("td",{children:a.list}),Object(K.jsxs)("td",{children:[" ",Object(K.jsx)(fe.a,{checked:a.active,onChange:function(){return function(t){ae.changeActiveOfTir(t.id).then((function(t){"Activated"===t.message?Y.b.success(t.message):Y.b.warning(t.message),ae.getAllTiresByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allTiresByPageable:t.object,totalElements:t.totalElements})}))}))}(a)}})]}),Object(K.jsxs)("td",{children:[Object(K.jsx)("button",{className:"btn btn-warning",onClick:function(){return t(a)},children:"Edit"}),Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return function(t){e.setState({item:t,showDeleteModal:!e.state.showDeleteModal})}(a)},children:"Delete"})]})]})})):""})]})}),Object(K.jsxs)(de.a,{isOpen:this.state.showSaveOrEditModal,toggle:function(){return t("")},children:[Object(K.jsx)(me.a,{children:Object(K.jsx)("h4",{children:this.state.item?"Tahrirlash":"Yangi TIR qo'shish"})}),Object(K.jsxs)(b.AvForm,{onValidSubmit:function(a,n){e.state.item&&(n=Object(Z.a)(Object(Z.a)({},n),{},{id:e.state.item.id})),ae.saveOrEditTir(n).then((function(a){a.data.success?Y.b.success(a.data.message):Y.b.warning(a.data.message),ae.getAllTiresByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allTiresByPageable:t.object,totalElements:t.totalElements})})),ae.getAllTiresByPageable({page:e.state.page,size:0,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allTires:t.object,totalElements:t.totalElements})})),t("")}))},children:[Object(K.jsxs)(be.a,{children:[Object(K.jsx)(b.AvField,{type:"number",name:"tirNumber",defaultValue:this.state.item?this.state.item.tirNumber:"",label:"Tir raqamini 1-kiriting"}),this.state.item?"":Object(K.jsx)(b.AvField,{type:"number",name:"tirNumber2",label:"Tir raqamini 2-kiriting"}),Object(K.jsx)(b.AvField,{type:"number",name:"list",defaultValue:this.state.item?this.state.item.list:"",label:"Tir listini kiriting"}),Object(K.jsx)(b.AvField,{type:"date",name:"experienceDate",defaultValue:this.state.item?this.state.item.experienceDate:"",label:"Tugash muddatini kiriting"}),Object(K.jsxs)(b.AvField,{type:"select",name:"companyId",defaultValue:this.state.item&&this.state.item.company?this.state.item.company.id:"0",label:"Company tanlang",children:[Object(K.jsx)("option",{value:"0",children:"Choose Company"}),this.state.company.length>0?this.state.company.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.authority})})):""]})]}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return t("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",type:"submit",children:"Saqlash"})]})]})]})]})]})}}]),a}(n.Component),De=Object(_.b)((function(e){return{store:e}}),null)(Ae),we=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={item:"",showSaveOrEditModal:!1,showDeleteModal:!1,allEmployees:[],allEmployeesByPageable:[],permissions:[],roles:[],page:0,size:10,totalElements:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t?(localStorage.removeItem(g),e.props.history.push("/")):(ae.getAllUsersByPageable({page:e.state.page,size:e.state.size,search:"all"}).then((function(t){console.log(t.object),e.setState({allEmployeesByPageable:t.object,totalElements:t.totalElements})})),ae.getAllUsersByPageable({page:e.state.page,size:0,search:"all"}).then((function(t){console.log(t.object),e.setState({allEmployees:t.object,totalElements:t.totalElements})})),ae.getAllRoles().then((function(t){console.log(t,"roles"),e.setState({roles:t})})))}))}},{key:"render",value:function(){var e=this,t=function(t){e.setState({item:t,showSaveOrEditModal:!e.state.showSaveOrEditModal})},a=function(t){e.setState({item:t,showDeleteModal:!e.state.showDeleteModal})};return Object(K.jsxs)("div",{className:"row",children:[Object(K.jsx)(se,{active:10}),Object(K.jsxs)("div",{className:"col-md-12 bg-light",children:[Object(K.jsxs)("div",{className:"row mt-3",children:[Object(K.jsx)("div",{className:"col-md-4",children:Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){return t("")},children:"+Add"})}),Object(K.jsx)("div",{className:"col-md-4",children:Object(K.jsx)("input",{type:"text",className:"form-control",placeholder:"Izlash",onChange:function(t){var a=t.target.value;console.log(a.length,"SSS"),a.length>=2?ae.getAllUsersByPageable({page:e.state.page,size:e.state.size,search:a}).then((function(t){console.log(t.object),e.setState({allEmployeesByPageable:t.object,totalElements:t.totalElements})})):ae.getAllUsersByPageable({page:e.state.page,size:e.state.size,search:"all"}).then((function(t){e.setState({allEmployeesByPageable:t.object,totalElements:t.totalElements,page:0})}))}})}),Object(K.jsx)("div",{className:"col-md-4",children:Object(K.jsx)(ue.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(t){console.log(t,"PAGENumber"),ae.getAllUsersByPageable({page:t-1,size:e.state.size,search:"all"}).then((function(a){e.setState({allEmployeesByPageable:a.object,totalElements:a.totalElements,page:t-1})}))},itemClass:"page-item",linkClass:"page-link"})})]}),Object(K.jsx)("div",{className:"row mt-3",children:Object(K.jsx)("div",{className:"col-md-12",children:Object(K.jsxs)(he.a,{children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"T/R"}),Object(K.jsx)("th",{children:"username"}),Object(K.jsx)("th",{children:"first name"}),Object(K.jsx)("th",{children:"last name"}),Object(K.jsx)("th",{children:"phone number"}),Object(K.jsx)("th",{children:"fix salary"}),Object(K.jsx)("th",{children:"active"}),Object(K.jsx)("th",{children:"roles"}),Object(K.jsx)("th",{children:"action"})]})}),Object(K.jsx)("tbody",{children:this.state.allEmployeesByPageable?this.state.allEmployeesByPageable.map((function(n,s){return Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:s+1+e.state.page*e.state.size}),Object(K.jsx)("td",{children:n.username}),Object(K.jsx)("td",{children:n.firstName}),Object(K.jsx)("td",{children:n.lastName}),Object(K.jsx)("td",{children:n.phoneNumber}),Object(K.jsx)("td",{children:n.fixSalary}),Object(K.jsx)("td",{children:Object(K.jsx)(fe.a,{checked:n.active,onChange:function(){return function(t){ae.changeActiveOfUser(t.id).then((function(t){console.log(t,"RES Change Active"),"Activated"===t.message?Y.b.success(t.message):Y.b.warning(t.message),ae.getAllUsersByPageable({page:e.state.page,size:e.state.size,search:"all"}).then((function(t){console.log(t.object),e.setState({allEmployeesByPageable:t.object,totalElements:t.totalElements})}))}))}(n)}})}),Object(K.jsx)("td",{children:n.roles?n.roles.map((function(e,t){return e.roleName})):""}),Object(K.jsxs)("td",{children:[Object(K.jsx)("button",{className:"btn btn-warning",onClick:function(){return t(n)},children:"Edit"}),Object(K.jsx)("button",{className:"btn btn-danger ml-3",onClick:"admin"===n.username?"":function(){return a(n)},children:"Delete"})]})]})})):""})]})})}),Object(K.jsxs)(de.a,{isOpen:this.state.showSaveOrEditModal,toggle:function(){return t("")},children:[Object(K.jsx)(me.a,{children:Object(K.jsx)("h4",{children:this.state.item?"Tahrirlash":"Yangi Xodim qoshish"})}),Object(K.jsxs)(b.AvForm,{onValidSubmit:function(a,n){e.state.item&&(n=Object(Z.a)(Object(Z.a)({},n),{},{id:e.state.item.id})),ae.saveOrEditUser(n).then((function(a){console.log(a,"res SaveOrEdit"),ae.getAllUsersByPageable({page:e.state.page,size:e.state.size,search:"all"}).then((function(t){e.setState({allEmployeesByPageable:t.object,totalElements:t.totalElements})})),ae.getAllUsersByPageable({page:e.state.page,size:0,search:"all"}).then((function(t){console.log(t.object),e.setState({allEmployees:t.object,totalElements:t.totalElements})})),t("")}))},children:[Object(K.jsxs)(be.a,{children:[Object(K.jsx)(b.AvField,{type:"text",defaultValue:this.state.item?this.state.item.username:"",name:"username",requared:!0,label:"Enter Username"}),Object(K.jsx)(b.AvField,{type:"text",defaultValue:this.state.item?this.state.item.firstName:"",name:"firstName",label:"Enter firstName"}),Object(K.jsx)(b.AvField,{type:"text",defaultValue:this.state.item?this.state.item.lastName:"",name:"lastName",label:"Enter lastName"}),Object(K.jsx)(b.AvField,{type:"number",defaultValue:this.state.item?this.state.item.phoneNumber:"",name:"phoneNumber",label:"Enter phoneNumber"}),Object(K.jsx)(b.AvField,{type:"number",defaultValue:this.state.item?this.state.item.fixSalary:"",name:"fixSalary",label:"Enter fixSalary"}),this.state.item?"":Object(K.jsx)(b.AvField,{type:"password",name:"password",label:"Enter password"}),Object(K.jsxs)(b.AvField,{type:"select",name:"role",label:"Choose Role",children:[Object(K.jsx)("option",{value:"0",children:"Choose role"}),this.state.roles.length>0?this.state.roles.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.roleName})})):""]})]}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return t("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",type:"submit",children:"Saqlash"})]})]})]}),Object(K.jsxs)(de.a,{isOpen:this.state.showDeleteModal,toggle:function(){return a("")},children:[Object(K.jsx)(me.a,{children:"O'chirishni istaysizmi?"}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return a("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){ae.removeUser(e.state.item.id).then((function(t){ae.getAllUsersByPageable({page:e.state.page,size:e.state.size,search:"all"}).then((function(t){e.setState({allEmployeesByPageable:t.object,totalElements:t.totalElements,page:0,showDeleteModal:!e.state.showDeleteModal,item:""})}))}))},children:"O'chirish"})]})]})]})]})}}]),a}(n.Component),Ie=Object(_.b)((function(e){return{store:e}}),null)(we),Pe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t&&(localStorage.removeItem(g),e.props.history.push("/"))}))}},{key:"render",value:function(){return Object(K.jsxs)("div",{className:"row",children:[Object(K.jsx)(se,{active:6}),Object(K.jsx)("div",{className:"col-md-12",children:Object(K.jsx)("h1",{children:"This is Settings Page"})})]})}}]),a}(n.Component),Ce=Object(_.b)((function(e){return{store:e}}),null)(Pe),Be=(a(677),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={item:"",showSaveModal:!1,showDeleteModal:!1,allDazvols:[],active:!0,allDazvolsByPageable:[],company:[],companyId:"",dazvol:[],deleteIds:[],dazvolName:[],page:0,size:10,totalElements:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;ae.me().then((function(t){null===t?(localStorage.removeItem(g),e.props.history.push("/")):(ae.getAllDazvolSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){console.log(t),e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})})),ae.getAllCompany().then((function(t){console.log(t,"company"),e.setState({company:t})})),ae.getAllDazvolNames().then((function(t){console.log(t,"dazvol "),e.setState({dazvolName:t})})))}))}},{key:"render",value:function(){var e=this,t=function(t){e.setState({item:t,showSaveOrEditModal:!e.state.showSaveOrEditModal})},a=function(t){e.setState({item:t,showDeleteModal:!e.state.showDeleteModal})};return Object(K.jsxs)("div",{className:"row bg-light",children:[Object(K.jsx)(se,{active:5}),Object(K.jsxs)("div",{className:"col-12",children:[Object(K.jsxs)("div",{className:"row mt-5",children:[Object(K.jsx)("div",{className:"col-3 text-center",children:Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){return t("")},children:"SALE"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)("input",{type:"text",onChange:function(t){var a=t.target.value;console.log(a.length,"SSS"),a.length>=2?ae.getAllDazvolSalesByPageable({page:e.state.page,size:e.state.size,search:a,active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0})})):ae.getAllDazvolSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0})}))},className:"form-control"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)(ue.a,{activePage:this.state.page+1,itemsCountPerPage:this.state.size,totalItemsCount:this.state.totalElements,pageRangeDisplayed:5,onChange:function(t){ae.getAllDazvolSalesByPageable({page:t-1,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(a){e.setState({allDazvolsByPageable:a.object,totalElements:a.totalElements,page:t-1})}))},itemClass:"page-item",linkClass:"page-link"})}),Object(K.jsx)("div",{className:"col-3",children:Object(K.jsx)("div",{className:"row d-flex justify-content-between align-items-center",children:Object(K.jsxs)("select",{className:"form-control w-75",onChange:function(t){var a=t.target.value;console.log(a,"company change"),ae.getAllDazvolSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:a}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})}))},id:"exampleFormControlSelect1",children:[Object(K.jsx)("option",{value:0,children:"Choose Company"}),this.state.company.map((function(e,t){return Object(K.jsx)("option",{value:e.id,children:e.authority})}))]})})})]}),Object(K.jsx)("div",{className:"row mt-3",children:Object(K.jsxs)(he.a,{bordered:!0,hover:!0,children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"T/R"}),Object(K.jsx)("th",{children:"Ismi"}),Object(K.jsx)("th",{children:"Mashina raqami"}),Object(K.jsx)("th",{children:"Sotilgan vaqti"}),Object(K.jsx)("th",{children:"Company"}),Object(K.jsx)("th",{children:"Sotuvchi"}),Object(K.jsx)("th",{children:"Dazvols"}),Object(K.jsx)("th",{children:"Action"})]})}),Object(K.jsx)("tbody",{children:this.state.allDazvolsByPageable?this.state.allDazvolsByPageable.map((function(a,n){return Object(K.jsxs)("tr",{className:"pt-2",children:[Object(K.jsx)("td",{className:"text-center",children:n+1+e.state.page*e.state.size}),Object(K.jsx)("td",{className:"text-center",children:a.userName}),Object(K.jsx)("td",{className:"text-center",children:a.carNumber}),Object(K.jsx)("td",{className:"text-center",children:a.date}),Object(K.jsx)("td",{className:"text-center",children:a.company.authority}),Object(K.jsx)("td",{className:"text-center",children:a.customer.firstName}),Object(K.jsx)("td",{className:"text-center text-info dazvol px-4",children:a.list?a.list.map((function(e,t){return Object(K.jsx)("p",{children:e.dazvolNumber})})):""}),Object(K.jsx)("td",{children:Object(K.jsx)("button",{className:"btn btn-warning text-center",onClick:function(){return t(a)},children:"Edit"})})]})})):""})]})}),Object(K.jsxs)(de.a,{isOpen:this.state.showSaveOrEditModal,toggle:function(){return t("")},children:[Object(K.jsxs)(be.a,{children:[Object(K.jsx)("h4",{children:this.state.item?"Tahrirlash":"Dazvol sotish"}),this.state.item?"":Object(K.jsxs)(b.AvForm,{onValidSubmit:function(t,a){ae.getAllDazvolByActive({companyId:a.companyId,dazvolNameId:a.dazvolNameId}).then((function(t){e.setState({companyId:a.companyId,dazvol:t.object})}))},children:[Object(K.jsxs)(b.AvField,{type:"select",name:"companyId",label:"Company tanlang",children:[Object(K.jsx)("option",{value:"0",children:"Choose Company"}),this.state.company.length>0?this.state.company.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.authority})})):""]}),Object(K.jsxs)(b.AvField,{type:"select",name:"dazvolNameId",label:"Dazvol turini tanlang",children:[Object(K.jsx)("option",{value:"0",children:"Choose Dazvol"}),this.state.dazvolName.length>0?this.state.dazvolName.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.authority})})):""]}),Object(K.jsx)("button",{className:"btn btn-success mt-2 text-center",type:"submit",children:"Jo'natish"})]})]}),Object(K.jsxs)(b.AvForm,{onValidSubmit:function(a,n){n=Object(Z.a)(Object(Z.a)({},n),{},{companyId:e.state.companyId}),ae.saveOrEditDazvolSale(n).then((function(a){console.log(n),ae.getAllDazvolSalesByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements})})),ae.getAllDazvolSalesByPageable({page:e.state.page,size:0,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvols:t.object,totalElements:t.totalElements})})),t("")}))},children:[Object(K.jsxs)(be.a,{children:[Object(K.jsx)(b.AvField,{type:"select",defaultValue:this.state.item&&this.state.item.dazvol?this.state.item.dazvol:"0",name:"dazvolIds",multiple:!0,label:"Dazvolni tanlang",children:this.state.dazvol.length>0?this.state.dazvol.map((function(e){return Object(K.jsx)("option",{value:e.id,children:e.dazvolNumber})})):""}),Object(K.jsx)(b.AvField,{type:"text",name:"carNumber",defaultValue:this.state.item?this.state.item.carNumber:"",label:"Mashina raqamini kiriting"}),Object(K.jsx)(b.AvField,{type:"text",name:"userName",defaultValue:this.state.item?this.state.item.userName:"",label:"Haydovchi ismi kiriting"})]}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return t("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",type:"submit",children:"Saqlash"})]})]})]}),Object(K.jsxs)(de.a,{isOpen:this.state.showDeleteModal,toggle:function(){return a("")},children:[Object(K.jsx)(me.a,{children:"O'chirishni istaysizmi?"}),Object(K.jsxs)(je.a,{children:[Object(K.jsx)("button",{className:"btn btn-danger",onClick:function(){return a("")},type:"button",children:"Bekor qilish"}),Object(K.jsx)("button",{className:"btn btn-success",onClick:function(){ae.removeDazvolSale(5).then((function(t){console.log(t),t.success?Y.b.success(t.message):Y.b.warning(t.message),ae.getAllDazvolsByPageable({page:e.state.page,size:e.state.size,search:"all",active:e.state.active,companyId:0}).then((function(t){e.setState({allDazvolsByPageable:t.object,totalElements:t.totalElements,page:0,showDeleteModal:!e.state.showDeleteModal,item:""})}))}))},children:"O'chirish"})]})]})]})]})}}]),a}(n.Component)),Te=Object(ve.a)(Oe),Me=Object(ve.b)(Te),Fe=function(){return Object(K.jsx)(i.a,{children:Object(K.jsxs)(_.a,{store:Me,children:[Object(K.jsx)(Y.a,{}),Object(K.jsxs)(r.c,{children:[Object(K.jsx)(r.a,{path:"/dashboard",component:re}),Object(K.jsx)(r.a,{path:"/dazvol",component:ze}),Object(K.jsx)(r.a,{path:"/tirSale",component:pe}),Object(K.jsx)(r.a,{path:"/dazvolSale",component:Be}),Object(K.jsx)(r.a,{path:"/tir",component:De}),Object(K.jsx)(r.a,{path:"/employee",component:Ie}),Object(K.jsx)(r.a,{path:"/setting",component:Ce}),Object(K.jsx)(r.a,{path:"/",component:H})]})]})})};l.a.render(Object(K.jsx)(s.a.StrictMode,{children:Object(K.jsx)(Fe,{})}),document.getElementById("root"))}},[[679,1,2]]]);
//# sourceMappingURL=main.2e71677a.chunk.js.map